---
title: "hooks"
description: "hooks"
---

# ìƒíƒœê´€ë¦¬ ë„êµ¬

## useReducer

useState, useReducerë‘˜ì€ ê°™ì€ ê¸°ëŠ¥ì„ í•œë‹¤.

|       | useState                 | useReducer                                                                                                                                                                                           |
| ----- | ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ì¥ì   | ê°„ë‹¨í•˜ë‹¤                 | - ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì¼ê´€ë˜ê²Œ ì‘ë™í•˜ë©°, ê·¸ë˜ì„œ ë³µì¡í•œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ì í•©í•©ë‹ˆë‹¤.<br/> - í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ì‰½ë‹¤. <br/>- ì‹¤í–‰ ì·¨ì†Œ/ ë‹¤ì‹œ ì‹¤í–‰, ìƒíƒœ ì§€ì†ì„± ë“±ê³¼ ê°™ì€ í—¬í¼ í•¨ìˆ˜ëŠ” ë¦¬ë“€ì„œë¡œ êµ¬í˜„í•˜ê¸°ê°€ ë” ì‰½ë‹¤ |
| ë‹¨ì   | ë³µì¡í•œ ìƒíƒœê´€ë¦¬ëŠ” í˜ë“¤ë‹¤ | ë³µì¡í•˜ì§€ ì•Šì€ ìƒíƒœë¥¼ ê´€ë¦¬í•´ì•¼ í• ë•ŒëŠ” ë¹„ì¶”                                                                                                                                                            |
| ì–¸ì œ? | ê°„ë‹¨í•œ stateì—ì„œ ì‚¬ìš©    | - ê´€ë¦¬í•´ì•¼í•  stateê°€ ë³µìˆ˜ì¸ ê²½ìš°<br/> - ìŠ¤ì¼€ì¼ì´ í° í”Œì <br/>- ë³µì¡í•œ state êµ¬ì¡°                                                                                                                     |

## **useState**

```jsx
import React, { useState } from "react";
import styled from "@emotion/styled";

function Sub1() {
  const [count, setCount] = useState(0);

  const down = () => {
    setCount(count - 1);
  };

  const reset = () => {
    setCount(0);
  };

  const up = () => {
    setCount(count + 1);
  };

  return (
    <Wrapper>
      <input type="button" value="-" onClick={down} />
      <input type="button" value="0" onClick={reset} />
      <input type="button" value="+" onClick={up} />
      <p>{count}</p>
    </Wrapper>
  );
}

const Wrapper = styled.div`
  height: 1000px;
  /* height: auto; */
  margin-top: 60px;
  background-color: lightcyan;
`;

export default Sub1;
```

## **useReducer**

```jsx
import React, { useReducer } from "react";
import styled from "@emotion/styled";

function Sub1() {
  function countReducer(oldCount, action) {
    if (action === "UP") {
      return oldCount + 1;
    }
    if (action === "DOWN") {
      return oldCount - 1;
    }
    if (action === "RESET") {
      return 0;
    }
    return oldCount;
  }
  const [count, countDispatch] = useReducer(countReducer, 0);

  const down = () => {
    countDispatch("DOWN");
  };

  const reset = () => {
    countDispatch("RESET");
  };

  const up = () => {
    countDispatch("UP");
  };

  return (
    <Wrapper>
      <input type="button" value="-" onClick={down} />
      <input type="button" value="0" onClick={reset} />
      <input type="button" value="+" onClick={up} />
      <p>{count}</p>
    </Wrapper>
  );
}

const Wrapper = styled.div`
  height: 1000px;
  /* height: auto; */
  margin-top: 60px;
  background-color: lightcyan;
`;

export default Sub1;
```

## **useState + useReducer**

```jsx
import React, { useReducer, useState } from "react";
import styled from "@emotion/styled";

function Sub1() {
  const [number, setNumber] = useState(1);

  function countReducer(oldCount, action) {
    if (action.type === "UP") {
      return oldCount + action.number;
    }
    if (action.type === "DOWN") {
      return oldCount - action.number;
    }
    if (action.type === "RESET") {
      return 0;
    }
    return oldCount;
  }

  const [count, countDispatch] = useReducer(countReducer, 0);

  const down = () => {
    countDispatch({ type: "DOWN", number });
  };

  const reset = () => {
    countDispatch({ type: "RESET", number });
  };

  const up = () => {
    countDispatch({ type: "UP", number });
  };

  const changeNumber = (event) => {
    setNumber(Number(event.target.value));
  };

  return (
    <Wrapper>
      <input type="button" value="-" onClick={down} />
      <input type="button" value="0" onClick={reset} />
      <input type="button" value="+" onClick={up} />
      <input type="text" value={number} onChange={changeNumber} />
      <p>{count}</p>
    </Wrapper>
  );
}

const Wrapper = styled.div`
  height: 1000px;
  /* height: auto; */
  margin-top: 60px;
  background-color: lightcyan;
`;

export default Sub1;
```

---

# Propê´€ë¦¬ í›…

### context api

propì„ ì „ì—­ì ìœ¼ë¡œ ê³µìœ í•˜ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.

```jsx
// App.jsx
import { useState, createContext } from "react";
import GrandParent from "./components/GrandParent";

export const MyContext = createContext(); // context ìƒì„±

function App() {
  return (
    <div className="App">
      <div className="card">
        <MyContext.Provider value="dasom">
          // 1. app.jsxì—ì„œ value ë°”ì¸ë”©
          <GrandParent /> // 2. ì´ì œ í•˜ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.
        </MyContext.Provider>
      </div>
    </div>
  );
}

// GrandParent.jsx
function GrandParent() {
  return <Parent />;
}

// Parent.jsx
function Parent() {
  return <Child />;
}

// Child.jsx
import { useContext } from "react";
import { MyContext } from "../App";

function Child() {
  const value = useContext(MyContext); // 3. ì ‘ê·¼í• ë• value ì´ë ‡ê²Œ
  return <div>name is {value}</div>;
}
```

### useContext + useState

store/app-context.js - app contextë¥¼ ë§Œë“ ë‹¤.

```jsx
/* eslint-disable react/jsx-no-constructed-context-values */
import React, { useState, useEffect, useCallback } from "react";

const TestContext = React.createContext({
  data: "",
  setData: (data) => {},
});

export function TestContextProvider({ children }) {
  const [data, setData] = useState();
  const setDataHandler = (newData) => {
    console.log(newData);
    setData(newData);
  };

  const contextValue = {
    data,
    setData: setDataHandler,
  };

  return (
    <TestContext.Provider value={contextValue}>{children}</TestContext.Provider>
  );
}

export default TestContext;
```

Sub2.jsx - providerë¡œ ì•ˆì— ë„£ì„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì¤€ë‹¤.

```jsx
import React from "react";
import { TestContextProvider } from "../store/app-context";
import Sub3 from "./Sub3";
import Sub4 from "./Sub4";

function Sub2() {
  return (
    <div>
      <p>Sub2</p>
      <TestContextProvider>
        <Sub3 />
        <Sub4 />
      </TestContextProvider>
    </div>
  );
}

export default Sub2;
```

Sub3.jsx - ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ setDataê°€ ë°”ë€ë‹¤.

```jsx
import React, { useContext } from "react";
import styled from "@emotion/styled";
import TestContext from "../store/app-context";

function Sub3() {
  const { data, setData } = useContext(TestContext);

  const onClickHandler = () => {
    setData("clicked");
  };

  return (
    <Wrapper>
      <p>Sub3</p>
      <button type="button" onClick={onClickHandler}>
        ë²„íŠ¼
      </button>
      <p>{data}</p>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: 100px;
  margin-top: 60px;
`;

export default Sub3;
```

Sub4.jsx - Sub3ì—ì„œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ dataë„ ê°™ì´ ë°”ë€ë‹¤.

```jsx
import React, { useContext } from "react";
import styled from "@emotion/styled";
import TestContext from "../store/app-context";

function Sub4() {
  const { data, setData } = useContext(TestContext);

  return (
    <Wrapper>
      <p>Sub4</p>
      <p>{data}</p>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: 100px;
  margin-top: 60px;
`;

export default Sub4;
```

---

# React hooks

## useEffect

ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë§‰ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. ì˜ì¡´ì„± ë°°ì—´ ì•ˆì— ìˆëŠ” ê²ƒë“¤ì´ ë°”ë€Œë©´ useEffectì˜ ì½œë°±ì´ ì‹¤í–‰ëœë‹¤.

```jsx
import React, { useEffect, useState } from "react";
import styled from "@emotion/styled";

function Sub5() {
  const [count, setCount] = useState(1);
  const [name, setName] = useState("");

  const handleCount = () => {
    setCount(count + 1);
  };

  const handleName = (event) => {
    setName(event.target.value);
  };

  useEffect(() => {
    console.log("ëœë”ë§ ğŸ¨");
    // countê°€ ì—…ë°ì´íŠ¸ ë  ë•Œë§Œ ë Œë”ë§!
  }, [count]);

  return (
    <Wrapper>
      <p>Sub5</p>
      <button type="button" onClick={handleCount}>
        Update
      </button>
      <span>count : {count}</span>
      <br />
      <br />
      <input type="text" value={name} onChange={handleName} />
      <span>name : {name}</span>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: 100px;
  margin-top: 60px;
`;

export default Sub5;
```

useEffectì˜ return í•¨ìˆ˜ëŠ” ì •ë¦¬ì‘ì—…ì„ í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤

## React.memo

`React.memoëŠ” ì˜¤ì§ PROPS ë³€í™”ì—ë§Œ ì˜ì¡´í•˜ëŠ” ìµœì í™” ë°©ë²•ì´ë‹¤!`

- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ë˜ë©´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¬´ì¡°ê±´ ë Œë”ë§ì´ ë˜ëŠ”ë° ê·¸ëŸ´í•„ìš”ê°€ ì—†ê³  propsë§Œ ë³€ê²½ëì„ ë•Œ ë Œë”ë§ì„ í•´ì¤˜ë„ ê´œì°®ë‹¤. ê·¸ë•Œ ì‚¬ìš©í•˜ëŠ”ê²Œ React.memoì´ë‹¤.
- ë¬´ë¶„ë³„í•œ ì‚¬ìš©ì€ ì„±ëŠ¥ì— ë…ì´ëœë‹¤.

**ì–¸ì œ ì‚¬ìš©?**

1. ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ propsë¡œ ìì£¼ ë Œë”ë§ ë ë•Œ
2. ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ ë  ë•Œë§ˆë‹¤ ë³µì¡í•œ ë¡œì§ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë©´

![hooks](./images/hooks1.png)

ìì‹í•œí…Œ memo, Parent useCallback, useMemo

## useRef

- refëŠ” ì €ì¥ê³µê°„ì´ë‹¤.
- `refê°€ ë³€í™”ë˜ì–´ë„ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤`. (stateê°€ ë³€í™”ë˜ë©´ ì¬ëœë”ë§ì´ ëœë‹¤)
- stateê°€ ë³€í™”ë˜ì–´ ë Œë”ë§ì´ ë˜ì–´ë„ refê°’ì€ ìœ ì§€ëœë‹¤.
- `DOM ìš”ì†Œì— ì ‘ê·¼`í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. (ì˜ˆ : input.focus(), ë§ˆì¹˜ Doucment.querySelector())

ì¦‰, ì–¸ì œ ì‚¬ìš©í•˜ëƒë©´~ ëœë”ë§ ë˜ì–´ë„ ê³„ì† ê°’ì„ ìœ ì§€í•˜ê³  ì‹¶ê±°ë‚˜ ê°’ì´ ë³€í•´ë„ ë Œë”ë§í•˜ê³ ì‹¶ì§€ ì•Šì„ë•Œ, DOM ìš”ì†Œì— ì ‘ê·¼í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.

## useContext

prop drilling ë°©ì§€

themeContex.js

![hooks](./images/hooks2.png)

app.js

![hooks](./images/hooks3.png)
í•˜ìœ„ ì»´í¬ë„ŒíŠ¸

![hooks](./images/hooks4.png)

## useMemo

- `ê°’`ì„ ê¸°ì–µí•´ë‘”ë‹¤!
- ì»´í¬ë„ŒíŠ¸ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ”ë° ëŒ€í‘œì ì¸ í›… : useMemo, useCallback
- **ë©”ëª¨ì´ì œì´ì…˜?** ìì£¼ í•„ìš”í•œ ê°’ì„ ë§¨ ì²˜ìŒ ê³„ì‚°í•  ë•Œ `ìºì‹±`ì„ í•´ ë‘ì–´, ê·¸ ê°’ì´ í•„ìš”í•  ë•Œë§ˆë‹¤ ìºì‹œì—ì„œ êº¼ë‚´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ
- ê¸°ì–µí•´ì•¼í•  ê²ƒ? í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ì´ ëœë‹¤ëŠ” ê²ƒì€ componentì˜ í˜¸ì¶œì„ ëœ»í•œë‹¤. â†’ í•¨ìˆ˜ëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ ëª¨ë“  ë‚´ë¶€ ë³€ìˆ˜ê°€ ì´ˆê¸°í™”ëœë‹¤

  ```jsx
  function Component() {
    const value = calculate();
    return <div>{value}</div>;
  }
  ```

  Componentê°€ ë¦¬ëœë”ë§ ë  ë•Œë§ˆë‹¤ component í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê³  calculate() í•¨ìˆ˜ê°€ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.
  **useMemoê°€ í•„ìš”í•œ ì˜ˆì œ**

  ```jsx
  /* eslint-disable no-plusplus */
  /* eslint-disable no-empty */
  import React, { useState } from "react";
  import styled from "@emotion/styled";

  const hardCalculate = (number) => {
    console.log("ì–´ë ¤ìš´ ê³„ì‚° ê³„ì‚°ì¤‘ ... ");
    for (let i = 0; i < 809999999; i++) {} // ì„ì˜ë¡œ ì˜¤ë˜ê±¸ë¦¬ëŠ” ê³„ì‚°ì„ ê±¸ì–´ë‘ 
    return number + 10000;
  };

  const easyCalculate = (number) => {
    console.log("ì‰¬ìš´ ê³„ì‚° ê³„ì‚°ì¤‘ ... ");
    return number + 1;
  };

  function Sub6() {
    const [hardNumber, setHardNumber] = useState(1);
    const [easyNumber, setEasyNumber] = useState(1);

    // const hardSum = hardCalculate(hardNumber);
    // ğŸš©use memo ì¶”ê°€
    const hardSum = useMemo(() => hardCalculate(hardNumber), [hardNumber]);
    const easySum = easyCalculate(easyNumber);

    return (
      <Wrapper>
        <p>Sub6</p>
        <h3>ì–´ë ¤ìš´ ê³„ì‚°ê¸°</h3>
        <input
          type="number"
          value={hardNumber}
          onChange={(e) => setHardNumber(Number(e.target.value))}
        />
        <span> + 10000 = {hardSum}</span>

        <h3>ì‰¬ìš´ ê³„ì‚°ê¸°</h3>
        <input
          type="number"
          value={easyNumber}
          onChange={(e) => setEasyNumber(Number(e.target.value))}
        />
        <span> + 1 = {easySum}</span>
      </Wrapper>
    );
  }

  const Wrapper = styled.main`
    height: 100px;
    margin-top: 60px;
  `;

  export default Sub6;
  ```

  hardCalculate()ì— ê¸´ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì—°ì‚°ì„ ê±¸ì–´ë‘ì—ˆë‹¤. easyCalculateë¥¼ ìˆ˜í–‰í• ë•Œ ì»´í¬ë„ŒíŠ¸ëŠ” ì¬ëœë”ë§ ë˜ê³  hardCalculate() í•¨ìˆ˜ë„ ì‹¤í–‰í•˜ê²Œë˜ì–´ ë”œë ˆì´ê°€ ë°œìƒí•œë‹¤.! ì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê²Œ useMemoì´ë‹¤.
  useMemoë¥¼ í†µí•´ easySumê³„ì‚°ì—ì„œëŠ” ì´ì œ hardCalculateê°€ ì‹¤í–‰ë˜ì§€ ì•Šê²Œë” êµ¬í˜„

  ***

  ì‹¤ì œë¡œëŠ” ê°ì²´íƒ€ì…ì„ useEffectí• ë•Œ ë§ì´ ì‚¬ìš©í•œë‹¤. ì•„ë˜ ì˜ˆì œë¥¼ ë³´ì.

  ```jsx
  /* eslint-disable no-plusplus */
  /* eslint-disable no-empty */
  import React, { useMemo, useEffect, useState } from "react";
  import styled from "@emotion/styled";

  function Sub7() {
    const [number, setNumber] = useState(0);
    const [isKorea, setIsKorea] = useState(true);

    // const location = isKorea ? "í•œêµ­" : "ì™¸êµ­";
    // const location = { country: isKorea ? "í•œêµ­" : "ì™¸êµ­" };
    const location = useMemo(() => {
      return {
        country: isKorea ? "í•œêµ­" : "ì™¸êµ­",
      };
    }, [isKorea]);

    // locationì´ ì°¸ì¡°í•˜ê³ ìˆëŠ” ì£¼ì†Œê°€ ë°”ë€Œì–´ì„œ numberë¥¼ ìˆ˜ì •í•´ë„ ì—…ë°ì´íŠ¸ëœë‹¤.
    // ì´ëŸ´ë•Œ useMemoë¥¼ ì‚¬ìš©í•´ì„œ í˜„ì¬ ë°”ë¼ë³´ê³ ìˆëŠ” ì°¸ì¡°ê°’ì˜ ê°’ì¸ isKoreaê°€ ë³€í• ë•Œë§Œ ì‹¤í–‰ë˜ê²Œë” ë§Œë“ ë‹¤.

    useEffect(() => {
      console.log("useEffect í˜¸ì¶œ");
    }, [location]);

    return (
      <Wrapper>
        <p>Sub7 - useMemo ì˜ˆì œ</p>
        <br />
        <p>í•˜ë£¨ì— ëª‡ë¼ ë¨¹ì–´ìš”?</p>
        <input
          type="number"
          value={number}
          onChange={(e) => setNumber(e.target.value)}
        />
        <hr />
        <br />
        <p>ì–´ëŠ ë‚˜ë¼ì— ìˆì–´ìš”?</p>
        <p>ë‚˜ë¼: {location.country}</p>
        <button type="button" onClick={() => setIsKorea(!isKorea)}>
          ë¹„í–‰ê¸° íƒ€ì
        </button>
      </Wrapper>
    );
  }

  const Wrapper = styled.main`
    height: auto;
    margin-top: 60px;
  `;

  export default Sub7;
  ```

  locationì´ ì°¸ì¡°í•˜ê³ ìˆëŠ” ì£¼ì†Œê°€ ë°”ë€Œì–´ì„œ numberë¥¼ ìˆ˜ì •í•´ë„ ì—…ë°ì´íŠ¸ëœë‹¤. ì´ëŸ´ë•Œ useMemoë¥¼ ì‚¬ìš©í•´ì„œ í˜„ì¬ ë°”ë¼ë³´ê³ ìˆëŠ” ì°¸ì¡°ê°’ì˜ ê°’ì¸ isKoreaê°€ ë³€í• ë•Œë§Œ ì‹¤í–‰ë˜ê²Œë” ë§Œë“ ë‹¤.

## useCallback

- ì»´í¬ë„ŒíŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™” ì‹œì¼œì£¼ëŠ” ë„êµ¬
- `ì½œë°±í•¨ìˆ˜ ê·¸ ìì²´`ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•œë‹¤.

useCallbackì„ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì

```jsx
import React, { useState, useEffect } from "react";
import styled from "@emotion/styled";

function Sub8() {
  const [number, setNumber] = useState(0);

  const someFunction = () => {
    console.log(`someFunc: number: ${number}`);
  };

  useEffect(() => {
    console.log("someFunctionì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }, [someFunction]);

  return (
    <Wrapper>
      <p>Sub8 - useCallback ì˜ˆì œ</p>
      <input
        type="number"
        defaultValue={number}
        onChange={(e) => setNumber(e.target.value)}
      />
      <br />
      <button type="button" onClick={someFunction}>
        Call someFunc
      </button>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
`;

export default Sub8;
```

someFunctionì€ í•¨ìˆ˜ ê°ì²´ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆê³  í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ì´ë˜ì„œ ì´ˆê¸°í™”ê°€ ë˜ë©´ someFunctionì€ ìƒˆë¡œ ë§Œë“¤ì–´ì ¸ì„œ í•¨ìˆ˜ ê°ì²´ì˜ ë©”ëª¨ë¦¬ì£¼ì†Œê°€ ë‹¬ë¼ì§„ë‹¤. setStateë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ë Œë”ë§ì„ í•˜ë©´ someFunctionì˜ ì£¼ì†Œê°€ ë‹¬ë¼ì§€ê³  ê³„ì† í˜¸ì¶œì´ ëœë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ useCallbackì´ë‹¤.

```jsx
import React, { useState, useEffect, useCallback } from "react";
import styled from "@emotion/styled";

function Sub8() {
  const [number, setNumber] = useState(0);

  const someFunction = useCallback(() => {
    console.log(`someFunc: number: ${number}`);
  }, [number]);

  // const someFunction = () => {
  //   console.log(`someFunc: number: ${number}`);
  // };

  useEffect(() => {
    console.log("someFunctionì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }, [someFunction]);

  return (
    <Wrapper>
      <p>Sub8 - useCallback ì˜ˆì œ</p>
      <input
        type="number"
        defaultValue={number}
        onChange={(e) => setNumber(e.target.value)}
      />
      <br />
      <button type="button" onClick={someFunction}>
        Call someFunc
      </button>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
`;

export default Sub8;
```

ë‹¤ë¥¸ ì˜ˆì œ

```jsx
import React, { useState, useEffect, useCallback } from "react";
import styled from "@emotion/styled";
/**
 * Themeì´ ë¦¬ëœë”ë§ ë˜ë©´ createBoxStyleë„ ë¦¬ëœë”ë§ì´ ëœë‹¤.
 * ì´ê±¸ ë°©ì§€í•˜ê¸° ìœ„í•´ useCallbackì‚¬ìš©í•˜ê¸°
 *
 */

function Sub9() {
  const [size, setSize] = useState(100);
  const [isDark, setIsDark] = useState(false);

  const createBoxStyle = useCallback(() => {
    return {
      backgroundColor: "pink",
      width: `${size}px`,
      height: `${size}px`,
    };
  }, [size]);

  // const createBoxStyle = () => {
  //   return {
  //     backgroundColor: "pink",
  //     width: `${size}px`,
  //     height: `${size}px`,
  //   };
  // };

  return (
    <Wrapper style={{ background: isDark ? "black" : "white" }}>
      <p>Sub9 - useCallback ì‹¤ìš©ì ì¸ ì˜ˆì œ</p>
      <input
        type="number"
        value={size}
        onChange={(e) => setSize(e.target.value)}
      />
      <button type="button" onClick={() => setIsDark(!isDark)}>
        change theme
      </button>
      <Box createBoxStyle={createBoxStyle} />
    </Wrapper>
  );
}

function Box({ createBoxStyle }) {
  const [style, setStyle] = useState({});

  useEffect(() => {
    console.log("ë°•ìŠ¤ í‚¤ìš°ê¸° ğŸ¨");
    setStyle(createBoxStyle());
  }, [createBoxStyle]);

  return <div style={style} />;
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
`;

export default Sub9;
```

## useReducer

![hooks](./images/hooks5.png)

![hooks](./images/hooks6.png)

---

## ì»¤ìŠ¤í…€ í›…

### **useInput**

ë§Œë“¤ê¸° ì „

![hooks](./images/hooks7.png)

```jsx
import React from "react";
import styled from "@emotion/styled";
import { useInput } from "../hooks/useInput";

function displayMessage(message) {
  alert(message);
}

function Sub14() {
  const [inputValue, handleChange, handleSubmit] = useInput("", displayMessage);

  return (
    <Wrapper>
      <p>Sub14 - custom hook - useInput </p>
      <input value={inputValue} onChange={handleChange} />
      <button type="button" onClick={handleSubmit}>
        í™•ì¸
      </button>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
  border: 2px solid navy;
  padding: 10px;
`;

export default Sub14;

/////////////////////////////////////////

import { useState } from "react";

export function useInput(initialValue, submitAction) {
  const [inputValue, setInputValue] = useState(initialValue);

  const handleChange = (e) => {
    setInputValue(e.target.value);
  };

  const handleSubmit = () => {
    setInputValue("");
    submitAction(inputValue);
  };

  return [inputValue, handleChange, handleSubmit];
}
```

### **useFetch**

useFetch ì ìš© ì „

```jsx
import React, { useEffect, useState } from "react";
import styled from "@emotion/styled";

const baseUrl = "https://jsonplaceholder.typicode.com";

function Sub15() {
  const [data, setData] = useState(null);

  const fetchUrl = (type) => {
    fetch(`${baseUrl}/${type}`)
      .then((res) => res.json())
      .then((res) => setData(res));
  };

  useEffect(() => {
    fetchUrl("users");
  }, []);

  console.log(data);

  return (
    <Wrapper>
      <p>Sub15 - custom hook - useFetch </p>
      <button type="button" onClick={() => fetchUrl("users")}>
        Users
      </button>
      <button type="button" onClick={() => fetchUrl("posts")}>
        Posts
      </button>
      <button type="button" onClick={() => fetchUrl("todos")}>
        Todos
      </button>
      <pre>{JSON.stringify(data, null, 2)}</pre>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
  border: 2px solid navy;
  padding: 10px;
`;

export default Sub15;
```

---

ì ìš© í›„

```jsx
import React from "react";
import styled from "@emotion/styled";
import useFetch from "../hooks/useFetch";

const baseUrl = "https://jsonplaceholder.typicode.com";

function Sub15() {
  const { data, fetchUrl } = useFetch(baseUrl, "users");
  // console.log(data);

  return (
    <Wrapper>
      <p>Sub15 - custom hook - useFetch </p>
      <button type="button" onClick={() => fetchUrl("users")}>
        Users
      </button>
      <button type="button" onClick={() => fetchUrl("posts")}>
        Posts
      </button>
      <button type="button" onClick={() => fetchUrl("todos")}>
        Todos
      </button>
      <pre>{JSON.stringify(data, null, 2)}</pre>
    </Wrapper>
  );
}

const Wrapper = styled.main`
  height: auto;
  margin-top: 60px;
  border: 2px solid navy;
  padding: 10px;
`;

export default Sub15;

/////////////////////////////////////
import { useEffect, useState } from "react";

export default function useFetch(baseUrl, initialType) {
  const [data, setData] = useState(null);

  const fetchUrl = (type) => {
    fetch(`${baseUrl}/${type}`)
      .then((res) => res.json())
      .then((res) => setData(res));
  };

  useEffect(() => {
    fetchUrl(initialType);
  }, []);

  return {
    data,
    fetchUrl,
  };
}
```

### **useAxios**

[https://kunkunwoo.tistory.com/235](https://kunkunwoo.tistory.com/235)
